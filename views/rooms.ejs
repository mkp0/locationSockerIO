<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="http://localhost:5000/socket.io/socket.io.js"></script>
    <script>
      const ROOM_ID = "<%= roomId %>";
    </script>
    <title>Document</title>
  </head>
  <body>
    <h1>location of id <%=roomId %> :</h1>
    <div id="newloc"></div>

    <script>
      let socket = io();
      let lat = null;
      let long = null;
      console.log(socket);
      const heading2 = document.getElementById("newloc");

      const USER_ID = prompt("your id : ");
      const LATI = prompt("Latitude : ");
      const LONGI = prompt("Longitude : ");
      socket.emit("join-room", ROOM_ID, USER_ID);

      socket.emit("new-location", { lat: Number(LATI), long: Number(LONGI) });

      socket.on("admin-location", (val) => {
        if (!val) {
          heading2.innerHTML = "";
        } else {
          heading2.innerHTML = "lat : " + val.lat + " long : " + val.long;
        }
      });
    </script>
  </body>
</html>
